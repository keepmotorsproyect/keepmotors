<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>KeepMotors - Parqueadero</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
  <style>
    .tab-item:hover .tab-icon {
      transform: scale(1.1);
      color: #f38a00;
    }
    .tab-icon {
      transition: all 0.2s ease;
    }
    .menu-item {
      transition: all 0.3s ease;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    .menu-item:hover {
      transform: translateY(-5px);
      box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    .pulse-animation {
      animation: pulse 2s infinite;
    }
    @keyframes pulse {
      0%, 100% { transform: scale(1); }
      50% { transform: scale(1.05); }
    }
    .sidebar {
      width: 260px;
      background-color: #fff;
      box-shadow: 2px 0 5px rgba(0, 0, 0, 0.1);
    }
    .content {
      margin-left: 260px;
    }
  </style>
</head>
<body class="bg-gray-100 font-sans">
  <div class="flex min-h-screen">
    <!-- Sidebar -->
    <aside class="sidebar flex flex-col">
      <div class="p-6 flex items-center justify-center border-b">
        <div class="flex items-center space-x-3">
          <img src="imagenes/logo.jpg" width="60" height="60" />
          <span class="text-xl font-bold text-gray-800">Keep Motors</span>
        </div>
      </div>
      <div class="p-4 flex items-center space-x-3 border-b">
        <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center">
          <i class="fas fa-user text-gray-500"></i>
        </div>
        <div>
          <p class="font-medium text-gray-800">Usuario</p>
          <p class="text-xs text-gray-500">Bienvenido</p>
        </div>
      </div>
      <nav class="flex-1 overflow-y-auto py-4 space-y-1 px-4">
        <button onclick="location.href='menu.html'" class="tab-item w-full flex items-center space-x-3 p-3 rounded-lg text-gray-600 hover:bg-gray-100">
          <i class="tab-icon fas fa-house text-lg"></i>
          <span class="font-medium">Regresar</span>
        </button>
      </nav>
    </aside>

    <!-- Main Content -->
    <main class="content flex-1">
      <!-- AquÃ­ puedes insertar todo el contenido del parqueadero y reservas -->
      <!-- Parking Spaces Control -->
    <section class="py-12 bg-white">
        <div class="container mx-auto px-4">
            <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">Control de Espacios</h2>
            
            <div class="bg-gray-100 rounded-xl p-6 mb-8">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold">Disponibilidad en tiempo real</h3>
                    <div class="flex items-center">
                        <div class="w-3 h-3 bg-green-500 rounded-full mr-2"></div>
                        <span id="availableSpaces" class="font-medium">45 espacios libres</span>
                    </div>
                </div>
                
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="bg-white p-4 rounded-lg shadow text-center">
                        <p class="text-gray-600 mb-1">Total</p>
                        <p class="text-2xl font-bold text-primary-dark">120</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow text-center">
                        <p class="text-gray-600 mb-1">Ocupados</p>
                        <p id="occupiedSpaces" class="text-2xl font-bold text-red-500">75</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow text-center">
                        <p class="text-gray-600 mb-1">Reservados</p>
                        <p id="reservedSpaces" class="text-2xl font-bold text-yellow-500">12</p>
                    </div>
                    <div class="bg-white p-4 rounded-lg shadow text-center">
                        <p class="text-gray-600 mb-1">Mantenimiento</p>
                        <p id="maintenanceSpaces" class="text-2xl font-bold text-blue-500">8</p>
                    </div>
                </div>
            </div>
            
            <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
                <!-- Spaces will be generated dynamically -->
            </div>
            
            <div class="mt-8 text-center">
                <button id="refreshBtn" class="bg-primary-dark text-white px-6 py-2 rounded-lg font-bold hover:bg-yellow-600 transition">
                    <i class="fas fa-sync-alt mr-2"></i> Actualizar
                </button>
            </div>
        </div>
    </section>

       <script>
        // Parking Spaces Controller
        document.addEventListener('DOMContentLoaded', function() {
            const parkingSpaces = 120;
            let available = 45;
            let occupied = 75;
            let reserved = 12;
            let maintenance = 8;
            
            const spacesContainer = document.querySelector('.grid.grid-cols-2.md\\:grid-cols-3.lg\\:grid-cols-5');
            const availableDisplay = document.getElementById('availableSpaces');
            const occupiedDisplay = document.getElementById('occupiedSpaces');
            const reservedDisplay = document.getElementById('reservedSpaces');
            const maintenanceDisplay = document.getElementById('maintenanceSpaces');
            const refreshBtn = document.getElementById('refreshBtn');
            
            function updateSpaces() {
                // Simulate random changes
                const change = Math.floor(Math.random() * 5) - 2; // -2 to +2
                available = Math.max(0, Math.min(parkingSpaces, available + change));
                occupied = Math.max(0, Math.min(parkingSpaces - reserved - maintenance, occupied - change));
                
                // Update displays
                availableDisplay.textContent = `${available} espacios libres`;
                occupiedDisplay.textContent = occupied;
                reservedDisplay.textContent = reserved;
                maintenanceDisplay.textContent = maintenance;
                
                // Generate parking spaces visualization
                spacesContainer.innerHTML = '';
                for (let i = 1; i <= parkingSpaces; i++) {
                    const space = document.createElement('div');
                    space.className = 'parking-space p-3 rounded-lg shadow text-center cursor-pointer transition';
                    
                    let status = 'available';
                    let statusText = 'Disponible';
                    
                    if (i <= occupied) {
                        status = 'occupied';
                        statusText = 'Ocupado';
                    } else if (i <= occupied + reserved) {
                        status = 'reserved';
                        statusText = 'Reservado';
                    } else if (i <= occupied + reserved + maintenance) {
                        status = 'maintenance';
                        statusText = 'Mantenimiento';
                    }
                    
                    space.innerHTML = `
                        <div class="w-4 h-4 rounded-full mx-auto mb-2 
                            ${status === 'available' ? 'bg-green-500' : 
                              status === 'occupied' ? 'bg-red-500' : 
                              status === 'reserved' ? 'bg-yellow-500' : 'bg-blue-500'}"></div>
                        <p class="text-sm font-medium">Espacio ${i}</p>
                        <p class="text-xs text-gray-500">${statusText}</p>
                    `;
                    
                    space.addEventListener('click', () => {
                        alert(`Espacio ${i} - Estado: ${statusText}`);
                    });
                    
                    spacesContainer.appendChild(space);
                }
            }
            
            // Initial load
            updateSpaces();
            
            // Refresh button
            refreshBtn.addEventListener('click', updateSpaces);
            
            // Auto-update every 30 seconds
            setInterval(updateSpaces, 30000);
        });
    </script>
</body>
</html>